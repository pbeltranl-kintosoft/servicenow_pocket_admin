<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1100 340" font-family="Segoe UI, Arial, sans-serif">
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#aaa"/>
    </marker>
    <marker id="arrow-return" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#66bb6a"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="1100" height="340" rx="12" fill="#1a1a2e" stroke="#2a2a4a" stroke-width="1"/>

  <!-- ===== 1. USER (silhouette icon) ===== -->
  <g transform="translate(70,150)">
    <!-- head -->
    <circle cx="0" cy="-28" r="12" fill="#ccc"/>
    <!-- body/shoulders -->
    <path d="M-22,12 Q-22,-6 0,-6 Q22,-6 22,12 Z" fill="#ccc"/>
    <text x="0" y="32" text-anchor="middle" font-size="14" font-weight="600" fill="#ccc">User</text>
  </g>

  <!-- ===== 2. LLM box ===== -->
  <g transform="translate(260,115)">
    <rect width="130" height="70" rx="8" fill="#1b2a4a" stroke="#42a5f5" stroke-width="2"/>
    <text x="65" y="42" text-anchor="middle" font-size="18" font-weight="700" fill="#64b5f6">Claude</text>
  </g>

  <!-- ===== 3. Replica DB (cylinder) ===== -->
  <g transform="translate(515,113)">
    <!-- body -->
    <path d="M0,10 L0,72 Q0,82 50,82 Q100,82 100,72 L100,10" fill="#2e1f0f" stroke="none"/>
    <!-- top ellipse -->
    <ellipse cx="50" cy="10" rx="50" ry="10" fill="#2e1f0f" stroke="#ff9800" stroke-width="2"/>
    <!-- side lines -->
    <line x1="0" y1="10" x2="0" y2="72" stroke="#ff9800" stroke-width="2"/>
    <line x1="100" y1="10" x2="100" y2="72" stroke="#ff9800" stroke-width="2"/>
    <!-- bottom ellipse -->
    <path d="M0,72 Q0,82 50,82 Q100,82 100,72" fill="none" stroke="#ff9800" stroke-width="2"/>
    <text x="50" y="42" text-anchor="middle" font-size="12" font-weight="600" fill="#ffb74d">Replica</text>
    <text x="50" y="58" text-anchor="middle" font-size="12" font-weight="600" fill="#ffb74d">DB</text>
    <text x="50" y="108" text-anchor="middle" font-size="11" fill="#888">(Virtual)</text>
  </g>

  <!-- ===== 4. ServiceNow box ===== -->
  <g transform="translate(740,115)">
    <rect width="140" height="70" rx="8" fill="#1b3a1b" stroke="#66bb6a" stroke-width="2"/>
    <text x="70" y="42" text-anchor="middle" font-size="16" font-weight="700" fill="#81c784">ServiceNow</text>
  </g>

  <!-- ===== 5. Physical DB (cylinder) ===== -->
  <g transform="translate(970,113)">
    <!-- body -->
    <path d="M0,10 L0,72 Q0,82 50,82 Q100,82 100,72 L100,10" fill="#3a1a1a" stroke="none"/>
    <!-- top ellipse -->
    <ellipse cx="50" cy="10" rx="50" ry="10" fill="#3a1a1a" stroke="#ef5350" stroke-width="2"/>
    <!-- side lines -->
    <line x1="0" y1="10" x2="0" y2="72" stroke="#ef5350" stroke-width="2"/>
    <line x1="100" y1="10" x2="100" y2="72" stroke="#ef5350" stroke-width="2"/>
    <!-- bottom ellipse -->
    <path d="M0,72 Q0,82 50,82 Q100,82 100,72" fill="none" stroke="#ef5350" stroke-width="2"/>
    <text x="50" y="42" text-anchor="middle" font-size="12" font-weight="600" fill="#ef9a9a">Physical</text>
    <text x="50" y="58" text-anchor="middle" font-size="12" font-weight="600" fill="#ef9a9a">DB</text>
  </g>

  <!-- ===== ARROWS ===== -->

  <!-- User → LLM  (prompt) -->
  <line x1="100" y1="143" x2="255" y2="143" stroke="#aaa" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="178" y="135" text-anchor="middle" font-size="12" fill="#aaa" font-style="italic">prompt</text>

  <!-- LLM → User  (response – curved return arrow above) -->
  <path d="M260,125 Q178,58 105,125" fill="none" stroke="#66bb6a" stroke-width="1.8" stroke-dasharray="6,3" marker-end="url(#arrow-return)"/>
  <text x="178" y="75" text-anchor="middle" font-size="11" fill="#66bb6a" font-style="italic">response</text>

  <!-- LLM → Replica DB  (SQL) -->
  <line x1="395" y1="150" x2="510" y2="150" stroke="#aaa" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="452" y="142" text-anchor="middle" font-size="13" fill="#ddd" font-weight="600">SQL</text>

  <!-- Replica DB → ServiceNow  (GraphQL / Table API + Business Rules & ACLs) -->
  <line x1="620" y1="150" x2="735" y2="150" stroke="#aaa" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="678" y="133" text-anchor="middle" font-size="11" fill="#bbb">GraphQL / Table API</text>
  <text x="678" y="175" text-anchor="middle" font-size="10" fill="#777">Business Rules + ACLs</text>

  <!-- ServiceNow → Physical DB -->
  <line x1="885" y1="150" x2="965" y2="150" stroke="#aaa" stroke-width="2" marker-end="url(#arrow)"/>
</svg>
